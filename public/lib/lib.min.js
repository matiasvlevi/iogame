class Logger{}function myfunc(e,r){return e*r}function myfunc2(e,r,t){return e*r+t}Logger.server=function(e){console.log(`[Server]: ${e}`)},globalThis.isBrowser="object"!=typeof process,isBrowser||(globalThis.Player=require("../player/player.js"));class World{constructor(){this.players={},this.tick=0,this.skins={default:[255,255,255]}}playerJoin(){let e=World.makeID();socket.emit("playerJoin",e)}addPlayer(e,r){if("string"==typeof e){let t=new Player(e,r);return t.setPos(500*Math.random(),500*Math.random()),this.players[r]=t,t}if("object"==typeof e){let r=new Player,t=Object.keys(r),o=Object.values(e);for(let e=0;e<t.length;e++)r[t[e]]=o[e];return this.players[e.sid]=r,r}}removePlayer(e){delete this.players[e]}toObject(){let e=Object.keys(this),r=Object.values(this),t={};for(let o=0;o<e.length;o++)t[e[o]]=r[o];return t}render(){let e=Object.values(this.players);for(let r=0;r<e.length;r++)e[r].render()}}let world,player;World.chars=()=>{for(i=97,a="";i<123;)a+=String.fromCharCode(i++);for(i=48,b="";i<58;)b+=String.fromCharCode(i++);return a+a.toLocaleUpperCase()+b},World.makeID=()=>{let e="",r=World.chars();for(let t=0;t<12;t++){e+=r[Math.floor(Math.random()*(r.length-1))]}return e},isBrowser||(module.exports=new World),globalThis.isBrowser="object"!=typeof process,isBrowser?void 0===world&&(world=new World):world=require("../env/world.js");class Player{constructor(e,r,t=0,o=0){this.pos={x:t,y:o},this.vel={x:0,y:0},this.id=e,this.sid=r,this.skin="default"}toObject(){let e=Object.keys(this),r=Object.values(this),t={};for(let o=0;o<e.length;o++)t[e[o]]=r[o];return t}setPos(e,r){this.pos={x:e,y:r}}render(){noStroke(),fill.apply(1,world.skins[this.skin]),ellipse(this.pos.x,this.pos.y,16,16)}}isBrowser||(module.exports=Player),isBrowser&&(socket.on("newPlayer",(e=>{world.addPlayer(e),Logger.server(`player ${e.sid} joined the game!`)})),socket.on("removePlayer",(e=>{delete world.players[e],Logger.server(`player ${e} left the game`)})));let wnx=window.innerWidth,wny=window.innerHeight;function setup(){wnx=window.innerWidth,wny=window.innerHeight,createCanvas(wnx,wny),world.playerJoin()}function draw(){background(51),world.render()}